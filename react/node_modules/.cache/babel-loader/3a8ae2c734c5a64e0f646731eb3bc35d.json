{"ast":null,"code":"var _jsxFileName = \"/Users/acaclasswork/Documents/PM01/react/src/components/Milestones.js\",\n    _s = $RefreshSig$();\n\nimport { Container, Button } from \"react-bootstrap\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { VerticalTimeline, VerticalTimelineElement } from \"react-vertical-timeline-component\";\nimport \"react-vertical-timeline-component/style.min.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Milestones() {\n  _s();\n\n  const [todos, setTodos] = useState([]);\n  const [counter, setCounter] = useState(1);\n  const [input, setInput] = useState({\n    title: \"\",\n    subtitle: \"\",\n    description: \"\",\n    due_date: \"\",\n    ms_status: \"TODO\" // id: counter,\n\n  }); // const [milestone, setMilestone] = useState({});\n\n  let projectID = 1;\n  let mstone = {};\n\n  const fetchData = async () => {\n    try {\n      const result = await axios.get(`http://localhost:4001/milestones/${projectID}`);\n      setTodos(result.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchData().then(() => console.log(\"todos:\", todos));\n  }, []);\n\n  const postMilestone = () => {\n    console.log(\"milestone\", mstone); //   const newMilestoneRequest = {\n    //     method: 'POST',\n    //     // headers: { 'authorization': `bearer ${cookieToken}`, 'Content-Type': 'application/json' },\n    //     headers: { 'Content-Type': 'application/json' },\n    //     body: {...mstone}\n    // };\n\n    axios.post(`http://localhost:4001/milestones`, // newMilestoneRequest,\n    mstone).then(function (response) {\n      console.log(\"post milestone response\", response);\n    }).then(() => fetchData()).catch(function (error) {\n      console.log(\"post milestone error\", error);\n    });\n  };\n\n  const onChange = event => {\n    setInput(prevState => ({ ...prevState,\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    mstone = {\n      title: input.title,\n      // id: counter,\n      ms_status: \"TODO\",\n      description: input.description,\n      due_date: input.due_date,\n      subtitle: input.subtitle,\n      project_id: projectID\n    }; // setTodos([\n    //   ...todos,\n    //   milestone\n    // ])\n    // setCounter(counter + 1);\n\n    setInput({\n      title: \"\",\n      subtitle: \"\",\n      description: \"\",\n      due_date: \"\"\n    });\n    postMilestone();\n  };\n\n  const removeItem = idx => {\n    let id = todos[idx].id;\n    console.log(\"delete milestone: \", id);\n    axios.delete(`http://localhost:4001/milestones/${id}`);\n    setCounter(counter - 1); // .then(response => response.json())\n    // .then(data => console.log('deleted milestone: ', data.id));\n  };\n\n  const handleClick = todo => {\n    const todoId = todo.id;\n\n    if (todo.ms_status === \"TODO\") {\n      todo.ms_status = \"IN PROGRESS\";\n      axios.put(`http://localhost:4001/milestones/${todoId}`, {\n        ms_status: \"IN PROGRESS\"\n      });\n    } else if (todo.ms_status === \"IN PROGRESS\") {\n      todo.ms_status = \"COMPLETED\";\n      axios.put(`http://localhost:4001/milestones/${todoId}`, {\n        ms_status: \"COMPLETED\"\n      });\n    } else if (todo.ms_status === \"COMPLETED\") {\n      todo.ms_status = \"TODO\";\n      axios.put(`http://localhost:4001/milestones/${todoId}`, {\n        ms_status: \"TODO\"\n      });\n    }\n\n    setTodos([...todos]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      className: \"d-flex p-6 justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          style: {\n            flex: \"10\",\n            padding: \"5px\"\n          },\n          placeholder: \"Title ...\",\n          value: input.title,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"subtitle\",\n          style: {\n            flex: \"10\",\n            padding: \"5px\"\n          },\n          placeholder: \"Subtitle ...\",\n          value: input.subtitle,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"description\",\n          style: {\n            flex: \"10\",\n            padding: \"5px\"\n          },\n          placeholder: \"Description ...\",\n          value: input.description,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"due_date\",\n          style: {\n            backgroundColor: \"darkorange\",\n            color: \"black\",\n            flex: \"2\",\n            padding: \"5px\",\n            marginBottom: \"5px\" // border: \"1px solid black\",\n\n          },\n          children: [\"Due Date:\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"due_date\",\n          style: {\n            flex: \"10\",\n            padding: \"5px\"\n          },\n          placeholder: \"Due date ...\",\n          value: input.due_date,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          value: \"Submit\",\n          className: \"btn\",\n          style: {\n            flex: \"1\"\n          },\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      style: {\n        backgroundColor: \"lightslategray\"\n      },\n      className: \"p-12\",\n      children: /*#__PURE__*/_jsxDEV(VerticalTimeline, {\n        children: todos.map((todo, idx) => /*#__PURE__*/_jsxDEV(VerticalTimelineElement, {\n          className: \"vertical-timeline-element--work\",\n          contentStyle: {\n            background: \"#20B2AA\",\n            color: \"lightyellow\"\n          },\n          contentArrowStyle: {\n            borderRight: \"7px solid white\"\n          },\n          date: todo.due_date,\n          dateClassName: \"timeline-date\",\n          iconStyle: {\n            background: `${todo.ms_status === \"COMPLETED\" ? \"mediumseagreen\" : todo.ms_status === \"IN PROGRESS\" ? \"darkorange\" : todo.ms_status === \"TODO\" ? \"firebrick\" : \"gray\"}`,\n            color: \"#eee\"\n          } // icon={<WorkIcon />}\n          ,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"vertical-timeline-element-title\",\n            children: todo.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"vertical-timeline-element-subtitle\",\n            children: todo.subtitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: todo.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: todo.ms_status === \"COMPLETED\" ? \"success\" : todo.ms_status === \"IN PROGRESS\" ? \"warning\" : todo.ms_status === \"TODO\" ? \"danger\" : \"primary\",\n            onClick: () => handleClick(todo),\n            value: todo.id,\n            id: idx,\n            size: \"sm\",\n            children: todo.ms_status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: () => removeItem(idx),\n            size: \"sm\",\n            className: \"d-flex ml-auto\",\n            children: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Milestones, \"udrpKlOfhUeJ4ox6/JUN3aVS/vg=\");\n\n_c = Milestones;\nexport default Milestones;\n\nvar _c;\n\n$RefreshReg$(_c, \"Milestones\");","map":{"version":3,"sources":["/Users/acaclasswork/Documents/PM01/react/src/components/Milestones.js"],"names":["Container","Button","React","useState","useEffect","axios","VerticalTimeline","VerticalTimelineElement","Milestones","todos","setTodos","counter","setCounter","input","setInput","title","subtitle","description","due_date","ms_status","projectID","mstone","fetchData","result","get","data","error","console","log","then","postMilestone","post","response","catch","onChange","event","prevState","target","name","value","onSubmit","preventDefault","project_id","removeItem","idx","id","delete","handleClick","todo","todoId","put","flex","padding","backgroundColor","color","marginBottom","map","background","borderRight"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,iBAAlC;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,gBADF,EAEEC,uBAFF,QAGO,mCAHP;AAIA,OAAO,iDAAP;;;;AAEA,SAASC,UAAT,GAAsB;AAAA;;AACpB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,CAAD,CAAtC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC;AACjCY,IAAAA,KAAK,EAAE,EAD0B;AAEjCC,IAAAA,QAAQ,EAAE,EAFuB;AAGjCC,IAAAA,WAAW,EAAE,EAHoB;AAIjCC,IAAAA,QAAQ,EAAE,EAJuB;AAKjCC,IAAAA,SAAS,EAAE,MALsB,CAMjC;;AANiC,GAAD,CAAlC,CAHoB,CAWpB;;AACA,MAAIC,SAAS,GAAG,CAAhB;AACA,MAAIC,MAAM,GAAG,EAAb;;AAEA,QAAMC,SAAS,GAAG,YAAY;AAC5B,QAAI;AACF,YAAMC,MAAM,GAAG,MAAMlB,KAAK,CAACmB,GAAN,CAClB,oCAAmCJ,SAAU,EAD3B,CAArB;AAGAV,MAAAA,QAAQ,CAACa,MAAM,CAACE,IAAR,CAAR;AACD,KALD,CAKE,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GATD;;AAWAtB,EAAAA,SAAS,CAAC,MAAM;AAEdkB,IAAAA,SAAS,GAAGO,IAAZ,CAAiB,MAAMF,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBnB,KAAtB,CAAvB;AACD,GAHQ,EAGN,EAHM,CAAT;;AAKA,QAAMqB,aAAa,GAAG,MAAM;AAC1BH,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBP,MAAzB,EAD0B,CAE1B;AACA;AACA;AACA;AACA;AACA;;AACAhB,IAAAA,KAAK,CACF0B,IADH,CAEK,kCAFL,EAGI;AACAV,IAAAA,MAJJ,EAMGQ,IANH,CAMQ,UAAUG,QAAV,EAAoB;AACxBL,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCI,QAAvC;AACD,KARH,EASGH,IATH,CASQ,MAAMP,SAAS,EATvB,EAUGW,KAVH,CAUS,UAAUP,KAAV,EAAiB;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCF,KAApC;AACD,KAZH;AAaD,GArBD;;AAuBA,QAAMQ,QAAQ,GAAIC,KAAD,IAAW;AAC1BrB,IAAAA,QAAQ,CAAEsB,SAAD,KAAgB,EACvB,GAAGA,SADoB;AAEvB,OAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE;AAFX,KAAhB,CAAD,CAAR;AAID,GALD;;AAOA,QAAMC,QAAQ,GAAIL,KAAD,IAAW;AAC1BA,IAAAA,KAAK,CAACM,cAAN;AACApB,IAAAA,MAAM,GAAG;AACPN,MAAAA,KAAK,EAAEF,KAAK,CAACE,KADN;AAEP;AACAI,MAAAA,SAAS,EAAE,MAHJ;AAIPF,MAAAA,WAAW,EAAEJ,KAAK,CAACI,WAJZ;AAKPC,MAAAA,QAAQ,EAAEL,KAAK,CAACK,QALT;AAMPF,MAAAA,QAAQ,EAAEH,KAAK,CAACG,QANT;AAOP0B,MAAAA,UAAU,EAAEtB;AAPL,KAAT,CAF0B,CAW1B;AACA;AACA;AACA;AACA;;AACAN,IAAAA,QAAQ,CAAC;AACPC,MAAAA,KAAK,EAAE,EADA;AAEPC,MAAAA,QAAQ,EAAE,EAFH;AAGPC,MAAAA,WAAW,EAAE,EAHN;AAIPC,MAAAA,QAAQ,EAAE;AAJH,KAAD,CAAR;AAMAY,IAAAA,aAAa;AACd,GAvBD;;AAyBA,QAAMa,UAAU,GAAIC,GAAD,IAAS;AAC1B,QAAIC,EAAE,GAAGpC,KAAK,CAACmC,GAAD,CAAL,CAAWC,EAApB;AACAlB,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCiB,EAAlC;AACAxC,IAAAA,KAAK,CAACyC,MAAN,CAAc,oCAAmCD,EAAG,EAApD;AACAjC,IAAAA,UAAU,CAACD,OAAO,GAAG,CAAX,CAAV,CAJ0B,CAK1B;AACA;AACD,GAPD;;AASA,QAAMoC,WAAW,GAAIC,IAAD,IAAU;AAC5B,UAAMC,MAAM,GAAGD,IAAI,CAACH,EAApB;;AACA,QAAIG,IAAI,CAAC7B,SAAL,KAAmB,MAAvB,EAA+B;AAC7B6B,MAAAA,IAAI,CAAC7B,SAAL,GAAiB,aAAjB;AACAd,MAAAA,KAAK,CAAC6C,GAAN,CAAW,oCAAmCD,MAAO,EAArD,EAAwD;AACtD9B,QAAAA,SAAS,EAAE;AAD2C,OAAxD;AAGD,KALD,MAKO,IAAI6B,IAAI,CAAC7B,SAAL,KAAmB,aAAvB,EAAsC;AAC3C6B,MAAAA,IAAI,CAAC7B,SAAL,GAAiB,WAAjB;AACAd,MAAAA,KAAK,CAAC6C,GAAN,CAAW,oCAAmCD,MAAO,EAArD,EAAwD;AACtD9B,QAAAA,SAAS,EAAE;AAD2C,OAAxD;AAGD,KALM,MAKA,IAAI6B,IAAI,CAAC7B,SAAL,KAAmB,WAAvB,EAAoC;AACzC6B,MAAAA,IAAI,CAAC7B,SAAL,GAAiB,MAAjB;AACAd,MAAAA,KAAK,CAAC6C,GAAN,CAAW,oCAAmCD,MAAO,EAArD,EAAwD;AACtD9B,QAAAA,SAAS,EAAE;AAD2C,OAAxD;AAGD;;AAEDT,IAAAA,QAAQ,CAAC,CAAC,GAAGD,KAAJ,CAAD,CAAR;AACD,GApBD;;AAsBA,sBACE;AAAA,4BACE,QAAC,SAAD;AAAW,MAAA,SAAS,EAAC,mCAArB;AAAA,6BACE;AAAM,QAAA,QAAQ,EAAE+B,QAAhB;AAAA,gCACE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,IAAI,EAAC,OAFP;AAGE,UAAA,KAAK,EAAE;AAAEW,YAAAA,IAAI,EAAE,IAAR;AAAcC,YAAAA,OAAO,EAAE;AAAvB,WAHT;AAIE,UAAA,WAAW,EAAC,WAJd;AAKE,UAAA,KAAK,EAAEvC,KAAK,CAACE,KALf;AAME,UAAA,QAAQ,EAAEmB;AANZ;AAAA;AAAA;AAAA;AAAA,gBADF,eASE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,IAAI,EAAC,UAFP;AAGE,UAAA,KAAK,EAAE;AAAEiB,YAAAA,IAAI,EAAE,IAAR;AAAcC,YAAAA,OAAO,EAAE;AAAvB,WAHT;AAIE,UAAA,WAAW,EAAC,cAJd;AAKE,UAAA,KAAK,EAAEvC,KAAK,CAACG,QALf;AAME,UAAA,QAAQ,EAAEkB;AANZ;AAAA;AAAA;AAAA;AAAA,gBATF,eAiBE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,IAAI,EAAC,aAFP;AAGE,UAAA,KAAK,EAAE;AAAEiB,YAAAA,IAAI,EAAE,IAAR;AAAcC,YAAAA,OAAO,EAAE;AAAvB,WAHT;AAIE,UAAA,WAAW,EAAC,iBAJd;AAKE,UAAA,KAAK,EAAEvC,KAAK,CAACI,WALf;AAME,UAAA,QAAQ,EAAEiB;AANZ;AAAA;AAAA;AAAA;AAAA,gBAjBF,eAyBE;AACE,UAAA,GAAG,EAAC,UADN;AAEE,UAAA,KAAK,EAAE;AACLmB,YAAAA,eAAe,EAAE,YADZ;AAELC,YAAAA,KAAK,EAAE,OAFF;AAGLH,YAAAA,IAAI,EAAE,GAHD;AAILC,YAAAA,OAAO,EAAE,KAJJ;AAKLG,YAAAA,YAAY,EAAE,KALT,CAML;;AANK,WAFT;AAAA,kCAWY,GAXZ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAzBF,eAsCE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,IAAI,EAAC,UAFP;AAGE,UAAA,KAAK,EAAE;AAAEJ,YAAAA,IAAI,EAAE,IAAR;AAAcC,YAAAA,OAAO,EAAE;AAAvB,WAHT;AAIE,UAAA,WAAW,EAAC,cAJd;AAKE,UAAA,KAAK,EAAEvC,KAAK,CAACK,QALf;AAME,UAAA,QAAQ,EAAEgB;AANZ;AAAA;AAAA;AAAA;AAAA,gBAtCF,eAsDE,QAAC,MAAD;AACE,UAAA,IAAI,EAAC,QADP;AAEE,UAAA,KAAK,EAAC,QAFR;AAGE,UAAA,SAAS,EAAC,KAHZ;AAIE,UAAA,KAAK,EAAE;AAAEiB,YAAAA,IAAI,EAAE;AAAR,WAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtDF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAkEE,QAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAEE,QAAAA,eAAe,EAAE;AAAnB,OAAlB;AAAyD,MAAA,SAAS,EAAC,MAAnE;AAAA,6BACE,QAAC,gBAAD;AAAA,kBACG5C,KAAK,CAAC+C,GAAN,CAAU,CAACR,IAAD,EAAOJ,GAAP,kBACT,QAAC,uBAAD;AACE,UAAA,SAAS,EAAC,iCADZ;AAEE,UAAA,YAAY,EAAE;AACZa,YAAAA,UAAU,EAAE,SADA;AAEZH,YAAAA,KAAK,EAAE;AAFK,WAFhB;AAME,UAAA,iBAAiB,EAAE;AACjBI,YAAAA,WAAW,EAAE;AADI,WANrB;AASE,UAAA,IAAI,EAAEV,IAAI,CAAC9B,QATb;AAUE,UAAA,aAAa,EAAC,eAVhB;AAWE,UAAA,SAAS,EAAE;AACTuC,YAAAA,UAAU,EAAG,GACXT,IAAI,CAAC7B,SAAL,KAAmB,WAAnB,GACI,gBADJ,GAEI6B,IAAI,CAAC7B,SAAL,KAAmB,aAAnB,GACA,YADA,GAEA6B,IAAI,CAAC7B,SAAL,KAAmB,MAAnB,GACA,WADA,GAEA,MACL,EATQ;AAUTmC,YAAAA,KAAK,EAAE;AAVE,WAXb,CAuBE;AAvBF;AAAA,kCAyBE;AAAI,YAAA,SAAS,EAAC,iCAAd;AAAA,sBAAiDN,IAAI,CAACjC;AAAtD;AAAA;AAAA;AAAA;AAAA,kBAzBF,eA0BE;AAAI,YAAA,SAAS,EAAC,oCAAd;AAAA,sBACGiC,IAAI,CAAChC;AADR;AAAA;AAAA;AAAA;AAAA,kBA1BF,eA6BE;AAAA,sBAAIgC,IAAI,CAAC/B;AAAT;AAAA;AAAA;AAAA;AAAA,kBA7BF,eA8BE,QAAC,MAAD;AACE,YAAA,OAAO,EACL+B,IAAI,CAAC7B,SAAL,KAAmB,WAAnB,GACI,SADJ,GAEI6B,IAAI,CAAC7B,SAAL,KAAmB,aAAnB,GACA,SADA,GAEA6B,IAAI,CAAC7B,SAAL,KAAmB,MAAnB,GACA,QADA,GAEA,SARR;AAUE,YAAA,OAAO,EAAE,MAAM4B,WAAW,CAACC,IAAD,CAV5B;AAWE,YAAA,KAAK,EAAEA,IAAI,CAACH,EAXd;AAYE,YAAA,EAAE,EAAED,GAZN;AAaE,YAAA,IAAI,EAAC,IAbP;AAAA,sBAeGI,IAAI,CAAC7B;AAfR;AAAA;AAAA;AAAA;AAAA,kBA9BF,eA+CE,QAAC,MAAD;AACE,YAAA,OAAO,EAAC,QADV;AAEE,YAAA,OAAO,EAAE,MAAMwB,UAAU,CAACC,GAAD,CAF3B;AAGE,YAAA,IAAI,EAAC,IAHP;AAIE,YAAA,SAAS,EAAC,gBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA/CF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAlEF;AAAA,kBADF;AAmID;;GAxPQpC,U;;KAAAA,U;AA0PT,eAAeA,UAAf","sourcesContent":["import { Container, Button } from \"react-bootstrap\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  VerticalTimeline,\n  VerticalTimelineElement,\n} from \"react-vertical-timeline-component\";\nimport \"react-vertical-timeline-component/style.min.css\";\n\nfunction Milestones() {\n  const [todos, setTodos] = useState([]);\n  const [counter, setCounter] = useState(1);\n  const [input, setInput] = useState({\n    title: \"\",\n    subtitle: \"\",\n    description: \"\",\n    due_date: \"\",\n    ms_status: \"TODO\",\n    // id: counter,\n  });\n  // const [milestone, setMilestone] = useState({});\n  let projectID = 1;\n  let mstone = {};\n  \n  const fetchData = async () => {\n    try {\n      const result = await axios.get(\n        `http://localhost:4001/milestones/${projectID}`\n      );\n      setTodos(result.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  \n  useEffect(() => {\n    \n    fetchData().then(() => console.log(\"todos:\", todos));\n  }, []);\n\n  const postMilestone = () => {\n    console.log(\"milestone\", mstone);\n    //   const newMilestoneRequest = {\n    //     method: 'POST',\n    //     // headers: { 'authorization': `bearer ${cookieToken}`, 'Content-Type': 'application/json' },\n    //     headers: { 'Content-Type': 'application/json' },\n    //     body: {...mstone}\n    // };\n    axios\n      .post(\n        `http://localhost:4001/milestones`,\n        // newMilestoneRequest,\n        mstone\n      )\n      .then(function (response) {\n        console.log(\"post milestone response\", response);\n      })\n      .then(() => fetchData())\n      .catch(function (error) {\n        console.log(\"post milestone error\", error);\n      });\n  };\n\n  const onChange = (event) => {\n    setInput((prevState) => ({\n      ...prevState,\n      [event.target.name]: event.target.value,\n    }));\n  };\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    mstone = {\n      title: input.title,\n      // id: counter,\n      ms_status: \"TODO\",\n      description: input.description,\n      due_date: input.due_date,\n      subtitle: input.subtitle,\n      project_id: projectID,\n    };\n    // setTodos([\n    //   ...todos,\n    //   milestone\n    // ])\n    // setCounter(counter + 1);\n    setInput({\n      title: \"\",\n      subtitle: \"\",\n      description: \"\",\n      due_date: \"\",\n    });\n    postMilestone();\n  };\n\n  const removeItem = (idx) => {\n    let id = todos[idx].id;\n    console.log(\"delete milestone: \", id);\n    axios.delete(`http://localhost:4001/milestones/${id}`);\n    setCounter(counter - 1);\n    // .then(response => response.json())\n    // .then(data => console.log('deleted milestone: ', data.id));\n  };\n\n  const handleClick = (todo) => {\n    const todoId = todo.id;\n    if (todo.ms_status === \"TODO\") {\n      todo.ms_status = \"IN PROGRESS\";\n      axios.put(`http://localhost:4001/milestones/${todoId}`, {\n        ms_status: \"IN PROGRESS\",\n      });\n    } else if (todo.ms_status === \"IN PROGRESS\") {\n      todo.ms_status = \"COMPLETED\";\n      axios.put(`http://localhost:4001/milestones/${todoId}`, {\n        ms_status: \"COMPLETED\",\n      });\n    } else if (todo.ms_status === \"COMPLETED\") {\n      todo.ms_status = \"TODO\";\n      axios.put(`http://localhost:4001/milestones/${todoId}`, {\n        ms_status: \"TODO\",\n      });\n    }\n\n    setTodos([...todos]);\n  };\n\n  return (\n    <>\n      <Container className=\"d-flex p-6 justify-content-center\">\n        <form onSubmit={onSubmit}>\n          <input\n            type=\"text\"\n            name=\"title\"\n            style={{ flex: \"10\", padding: \"5px\" }}\n            placeholder=\"Title ...\"\n            value={input.title}\n            onChange={onChange}\n          />\n          <input\n            type=\"text\"\n            name=\"subtitle\"\n            style={{ flex: \"10\", padding: \"5px\" }}\n            placeholder=\"Subtitle ...\"\n            value={input.subtitle}\n            onChange={onChange}\n          />\n          <input\n            type=\"text\"\n            name=\"description\"\n            style={{ flex: \"10\", padding: \"5px\" }}\n            placeholder=\"Description ...\"\n            value={input.description}\n            onChange={onChange}\n          />\n          <label\n            for=\"due_date\"\n            style={{\n              backgroundColor: \"darkorange\",\n              color: \"black\",\n              flex: \"2\",\n              padding: \"5px\",\n              marginBottom: \"5px\",\n              // border: \"1px solid black\",\n            }}\n          >\n            Due Date:{\" \"}\n          </label>\n          <input\n            type=\"date\"\n            name=\"due_date\"\n            style={{ flex: \"10\", padding: \"5px\" }}\n            placeholder=\"Due date ...\"\n            value={input.due_date}\n            onChange={onChange}\n          />\n          {/* <input\n            type=\"select\"\n            name=\"status\"\n            style={{ flex: \"10\", padding: \"5px\" }}\n            placeholder=\"Status ...\"\n            value={input.ms_status}\n            onChange={onChange}\n          /> */}\n          <Button\n            type=\"submit\"\n            value=\"Submit\"\n            className=\"btn\"\n            style={{ flex: \"1\" }}\n          >\n            Add\n          </Button>\n        </form>\n      </Container>\n      <Container style={{ backgroundColor: \"lightslategray\" }} className=\"p-12\">\n        <VerticalTimeline>\n          {todos.map((todo, idx) => (\n            <VerticalTimelineElement\n              className=\"vertical-timeline-element--work\"\n              contentStyle={{\n                background: \"#20B2AA\",\n                color: \"lightyellow\",\n              }}\n              contentArrowStyle={{\n                borderRight: \"7px solid white\",\n              }}\n              date={todo.due_date}\n              dateClassName=\"timeline-date\"\n              iconStyle={{\n                background: `${\n                  todo.ms_status === \"COMPLETED\"\n                    ? \"mediumseagreen\"\n                    : todo.ms_status === \"IN PROGRESS\"\n                    ? \"darkorange\"\n                    : todo.ms_status === \"TODO\"\n                    ? \"firebrick\"\n                    : \"gray\"\n                }`,\n                color: \"#eee\",\n              }}\n              // icon={<WorkIcon />}\n            >\n              <h3 className=\"vertical-timeline-element-title\">{todo.title}</h3>\n              <h4 className=\"vertical-timeline-element-subtitle\">\n                {todo.subtitle}\n              </h4>\n              <p>{todo.description}</p>\n              <Button\n                variant={\n                  todo.ms_status === \"COMPLETED\"\n                    ? \"success\"\n                    : todo.ms_status === \"IN PROGRESS\"\n                    ? \"warning\"\n                    : todo.ms_status === \"TODO\"\n                    ? \"danger\"\n                    : \"primary\"\n                }\n                onClick={() => handleClick(todo)}\n                value={todo.id}\n                id={idx}\n                size=\"sm\"\n              >\n                {todo.ms_status}\n              </Button>\n              <Button\n                variant=\"danger\"\n                onClick={() => removeItem(idx)}\n                size=\"sm\"\n                className=\"d-flex ml-auto\"\n              >\n                Remove\n              </Button>\n            </VerticalTimelineElement>\n          ))}\n        </VerticalTimeline>\n      </Container>\n    </>\n  );\n}\n\nexport default Milestones;\n"]},"metadata":{},"sourceType":"module"}