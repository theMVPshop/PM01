{"ast":null,"code":"import _defineProperty from\"/Users/acaclasswork/Documents/PM01/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/acaclasswork/Documents/PM01/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/acaclasswork/Documents/PM01/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/acaclasswork/Documents/PM01/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/acaclasswork/Documents/PM01/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Container,Accordion,Card,Button,Form,Col,Modal}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Devlog(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),logs=_useState2[0],setLogs=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),counter=_useState4[0],setCounter=_useState4[1];var _useState5=useState({title:\"\",subtitle:\"\",post:\"\",date:\"\"// id: counter,\n}),_useState6=_slicedToArray(_useState5,2),input=_useState6[0],setInput=_useState6[1];var projectID=1;var newLog={};var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:4001/devlog/\".concat(projectID));case 3:result=_context.sent;setLogs(result.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData().then(function(){return console.log(\"logs:\",logs);});},[]);var postLog=function postLog(){console.log(\"log\",newLog);axios.post(\"http://localhost:4001/devlog\",// newMilestoneRequest,\nnewLog).then(function(response){console.log(\"post devlog response\",response);}).then(function(){return fetchData();}).catch(function(error){console.log(\"post devlog error\",error);});};var onChange=function onChange(event){setInput(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},event.target.name,event.target.value));});};var onSubmit=function onSubmit(event){event.preventDefault();newLog={title:input.title,// id: counter,\npost:input.post,date:input.date,subtitle:input.subtitle};setCounter(counter+1);setInput({title:\"\",subtitle:\"\",post:\"\",date:\"\"});postLog();};// modal component code begins below\nfunction DevlogModal(){var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleShow,children:\"Add Log Entry\"}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Developer Log\"})}),/*#__PURE__*/_jsx(Modal.Body,{style:{backgroundColor:\"#adb5bd\"},children:/*#__PURE__*/_jsx(Container,{className:\"d-flex p-6 justify-content-center\",children:/*#__PURE__*/_jsxs(Form,{className:\"m-4\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"title\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{placeholder:\"Post Title...\",value:input.title,onChange:onChange,name:\"title\"})]}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"subtitle\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Subtitle\"}),/*#__PURE__*/_jsx(Form.Control,{placeholder:\"Subtitle...\",value:input.subtitle,onChange:onChange,name:\"subtitle\"})]})}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"date\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Log Date\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",value:input.date,onChange:onChange,name:\"date\"})]})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"post\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Log Post\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,value:input.post,onChange:onChange,name:\"post\",placeholder:\"Post...\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",className:\"float-right\",children:\"Add Entry\"})]})})})]})]});}// modal component code ends here\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DevlogModal,{}),/*#__PURE__*/_jsx(Container,{className:\"p-12\",children:/*#__PURE__*/_jsx(Accordion,{style:{color:\"white\"},defaultActiveKey:\"0\",className:\"p-12\",children:logs.map(function(log,idx){return/*#__PURE__*/_jsxs(Card,{style:{backgroundColor:\"#708090\"},children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:\"lemonchiffon\"},children:/*#__PURE__*/_jsx(Accordion.Toggle,{as:Button,variant:\"info\",eventKey:\"0\",children:log.title})}),/*#__PURE__*/_jsx(Accordion.Collapse,{eventKey:\"0\",children:/*#__PURE__*/_jsx(Card.Body,{children:log.post})})]});})})})]});}export default Devlog;","map":{"version":3,"sources":["/Users/acaclasswork/Documents/PM01/react/src/components/Devlog.js"],"names":["React","useState","useEffect","axios","Container","Accordion","Card","Button","Form","Col","Modal","Devlog","logs","setLogs","counter","setCounter","title","subtitle","post","date","input","setInput","projectID","newLog","fetchData","get","result","data","console","log","then","postLog","response","catch","error","onChange","event","prevState","target","name","value","onSubmit","preventDefault","DevlogModal","show","setShow","handleClose","handleShow","backgroundColor","color","map","idx"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  Container,\n  Accordion,\n  Card,\n  Button,\n  Form,\n  Col,\n  Modal,\n} from \"react-bootstrap\";\n\nfunction Devlog() {\n  const [logs, setLogs] = useState([]);\n  const [counter, setCounter] = useState(1);\n  const [input, setInput] = useState({\n    title: \"\",\n    subtitle: \"\",\n    post: \"\",\n    date: \"\",\n    // id: counter,\n  });\n  let projectID = 1;\n  let newLog = {};\n\n  const fetchData = async () => {\n      try {\n        const result = await axios.get(\n          `http://localhost:4001/devlog/${projectID}`\n        );\n        setLogs(result.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n  useEffect(() => {\n    fetchData().then(() => console.log(\"logs:\", logs));\n  }, []);\n\n  const postLog = () => {\n    console.log(\"log\", newLog);\n    axios\n      .post(\n        `http://localhost:4001/devlog`,\n        // newMilestoneRequest,\n        newLog\n      )\n      .then(function (response) {\n        console.log(\"post devlog response\", response);\n      })\n      .then(() => fetchData())\n      .catch(function (error) {\n        console.log(\"post devlog error\", error);\n      });\n\n  };\n\n  const onChange = (event) => {\n    setInput((prevState) => ({\n      ...prevState,\n      [event.target.name]: event.target.value,\n    }));\n  };\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    newLog = {\n        title: input.title,\n        // id: counter,\n        post: input.post,\n        date: input.date,\n        subtitle: input.subtitle,\n      };\n    setCounter(counter + 1);\n    setInput({\n      title: \"\",\n      subtitle: \"\",\n      post: \"\",\n      date: \"\",\n    });\n    postLog();\n  };\n\n  // modal component code begins below\n  function DevlogModal() {\n    const [show, setShow] = useState(false);\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    return (\n      <>\n        <Button variant=\"primary\" onClick={handleShow}>\n          Add Log Entry\n        </Button>\n\n        <Modal show={show} onHide={handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Developer Log</Modal.Title>\n          </Modal.Header>\n          <Modal.Body style={{ backgroundColor: \"#adb5bd\" }}>\n            <Container className=\"d-flex p-6 justify-content-center\">\n              <Form className=\"m-4\" onSubmit={onSubmit}>\n                <Form.Row>\n                  <Form.Group controlId=\"title\">\n                    <Form.Label>Title</Form.Label>\n                    <Form.Control\n                      placeholder=\"Post Title...\"\n                      value={input.title}\n                      onChange={onChange}\n                      name=\"title\"\n                    />\n                  </Form.Group>\n                  <Col xs=\"auto\">\n                    <Form.Group controlId=\"subtitle\">\n                      <Form.Label>Subtitle</Form.Label>\n                      <Form.Control\n                        placeholder=\"Subtitle...\"\n                        value={input.subtitle}\n                        onChange={onChange}\n                        name=\"subtitle\"\n                      />\n                    </Form.Group>\n                  </Col>\n                  <Form.Group controlId=\"date\">\n                    <Form.Label>Log Date</Form.Label>\n                    <Form.Control\n                      type=\"date\"\n                      value={input.date}\n                      onChange={onChange}\n                      name=\"date\"\n                    />\n                  </Form.Group>\n                </Form.Row>\n                <Form.Group controlId=\"post\">\n                  <Form.Label>Log Post</Form.Label>\n                  <Form.Control\n                    as=\"textarea\"\n                    rows={3}\n                    value={input.post}\n                    onChange={onChange}\n                    name=\"post\"\n                    placeholder=\"Post...\"\n                  />\n                </Form.Group>\n                <Button variant=\"primary\" type=\"submit\" className=\"float-right\">\n                  Add Entry\n                </Button>\n              </Form>\n            </Container>\n          </Modal.Body>\n        </Modal>\n      </>\n    );\n  }\n  // modal component code ends here\n\n  return (\n    <>\n      <DevlogModal />\n      {/* accordion starts below */}\n      <Container className=\"p-12\">\n        <Accordion\n          style={{ color: \"white\" }}\n          defaultActiveKey=\"0\"\n          className=\"p-12\"\n        >\n          {logs.map((log, idx) => (\n            <Card style={{ backgroundColor: \"#708090\" }}>\n              <Card.Header style={{ backgroundColor: \"lemonchiffon\" }}>\n                <Accordion.Toggle as={Button} variant=\"info\" eventKey=\"0\">\n                  {log.title}\n                </Accordion.Toggle>\n              </Card.Header>\n              <Accordion.Collapse eventKey=\"0\">\n                <Card.Body>{log.post}</Card.Body>\n              </Accordion.Collapse>\n            </Card>\n          ))}\n        </Accordion>\n      </Container>\n    </>\n  );\n}\n\nexport default Devlog;\n"]},"metadata":{},"sourceType":"module"}